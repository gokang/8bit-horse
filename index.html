<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8-Bit Realistic Running Horse</title>
    <style>
        body {
            background-color: #2c3e50;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            image-rendering: pixelated;
        }
        canvas {
            background-color: #7f8c8d;
            border: 8px solid #34495e;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <canvas id="horseCanvas" width="640" height="320"></canvas>
    <script>
        const canvas = document.getElementById('horseCanvas');
        const ctx = canvas.getContext('2d');
        const scale = 4;

        // Realistic 8-bit Gallop Cycle (approx 32x20 pixels)
        const horseFrames = [
            // Frame 1: Extended
            [
                "                XXXXXX          ",
                "               XXXXXXXX         ",
                "               XXX  XXXX        ",
                "               XXXXXXXX         ",
                "                XXXXXX          ",
                "      XXXXXXXXXXXXXXXXXX        ",
                "    XXXXXXXXXXXXXXXXXXXXXX      ",
                "  XXXXXXXXXXXXXXXXXXXXXXXXXX    ",
                " XXXXXXXXXXXXXXXXXXXXXXXXXXXX   ",
                " XXXXXXXXXXXXXXXXXXXXXXXXXXXX   ",
                " XXXXXXXXXXXXXXXXXXXXXXXXXXXX   ",
                " XX    XX            XX    XX   ",
                " XX    XX            XX    XX   ",
                " X      X            X      X   ",
                " X      X            X      X   "
            ],
            // Frame 2: Gathering
            [
                "                XXXXXX          ",
                "               XXXXXXXX         ",
                "               XXX  XXXX        ",
                "               XXXXXXXX         ",
                "                XXXXXX          ",
                "        XXXXXXXXXXXXXXXXXX      ",
                "      XXXXXXXXXXXXXXXXXXXXXX    ",
                "    XXXXXXXXXXXXXXXXXXXXXXXXXX  ",
                "   XXXXXXXXXXXXXXXXXXXXXXXXXXXX ",
                "   XXXXXXXXXXXXXXXXXXXXXXXXXXXX ",
                "   XXXXXXXXXXXXXXXXXXXXXXXXXXXX ",
                "      XXXXX        XXXXX        ",
                "       XXXX         XXXX        ",
                "        XXX          XXX        ",
                "         XX           XX        "
            ],
            // Frame 3: Mid-air
            [
                "                XXXXXX          ",
                "               XXXXXXXX         ",
                "               XXX  XXXX        ",
                "               XXXXXXXX         ",
                "                XXXXXX          ",
                "      XXXXXXXXXXXXXXXXXX        ",
                "    XXXXXXXXXXXXXXXXXXXXXX      ",
                "  XXXXXXXXXXXXXXXXXXXXXXXXXX    ",
                " XXXXXXXXXXXXXXXXXXXXXXXXXXXX   ",
                " XXXXXXXXXXXXXXXXXXXXXXXXXXXX   ",
                " XXXXXXXXXXXXXXXXXXXXXXXXXXXX   ",
                "   XXXX                XXXX     ",
                "    XXX                XXX      ",
                "    XX                 XX       ",
                "    X                  X        "
            ],
            // Frame 4: Contact
            [
                "                XXXXXX          ",
                "               XXXXXXXX         ",
                "               XXX  XXXX        ",
                "               XXXXXXXX         ",
                "                XXXXXX          ",
                "      XXXXXXXXXXXXXXXXXX        ",
                "    XXXXXXXXXXXXXXXXXXXXXX      ",
                "  XXXXXXXXXXXXXXXXXXXXXXXXXX    ",
                " XXXXXXXXXXXXXXXXXXXXXXXXXXXX   ",
                " XXXXXXXXXXXXXXXXXXXXXXXXXXXX   ",
                " XXXXXXXXXXXXXXXXXXXXXXXXXXXX   ",
                " XX   XX          XX   XX       ",
                " XX   XX          XX   XX       ",
                " XX   XX          XX   XX       ",
                " XX   XX          XX   XX       "
            ]
        ];

        let frameIdx = 0;
        let xPos = -200;

        function drawPixel(x, y, color) {
            ctx.fillStyle = color;
            ctx.fillRect(x * scale, y * scale, scale, scale);
        }

        function animate() {
            // Clear with a "grass" ground
            ctx.fillStyle = "#7f8c8d";
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#2ecc71";
            ctx.fillRect(0, 260, canvas.width, 60);

            const frame = horseFrames[frameIdx];
            const offsetX = xPos;
            const offsetY = 120;

            for (let y = 0; y < frame.length; y++) {
                for (let x = 0; x < frame[y].length; x++) {
                    if (frame[y][x] === 'X') {
                        drawPixel(x + (offsetX / scale), y + (offsetY / scale), '#3e2723');
                    }
                }
            }

            xPos += 8;
            if (xPos > canvas.width) xPos = -200;

            // Simple frame timing
            if (Math.floor(xPos / 16) % 1 === 0) {
                frameIdx = (frameIdx + 1) % horseFrames.length;
            }

            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
